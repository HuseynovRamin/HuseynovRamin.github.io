<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SAT Homework</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .correct { background: #a7f3d0; }  /* green */
    .incorrect { background: #fecaca; } /* red */
  </style>
</head>
<body class="bg-gradient-to-r from-indigo-100 via-pink-50 to-yellow-50 p-6">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded-xl shadow-lg">
    <h1 class="text-2xl font-bold mb-4">SAT Homework - Geometry</h1>

    <!-- Student Info -->
    <div class="mb-4">
      <input id="studentName" placeholder="Your Name" class="border p-2 rounded w-full mb-2">
      <input id="studentEmail" placeholder="Your Email" class="border p-2 rounded w-full">
    </div>

    <!-- Questions -->
    <div class="mb-4">
      <img src="images/q1.png" alt="Question 1" class="mb-2">
      <input id="q1" placeholder="Answer (A/B/C/D)" class="border p-2 rounded w-full">
    </div>

    <div class="mb-4">
      <img src="images/q2.png" alt="Question 2" class="mb-2">
      <input id="q2" placeholder="Answer (A/B/C/D)" class="border p-2 rounded w-full">
    </div>

    <div class="mb-4">
      <img src="images/q3.png" alt="Question 3" class="mb-2">
      <input id="q3" placeholder="Answer (A/B/C/D)" class="border p-2 rounded w-full">
    </div>

    <!-- Submit -->
    <button onclick="submitHomework()" class="bg-indigo-600 text-white px-4 py-2 rounded">Submit</button>

    <!-- Results -->
    <div id="results" class="mt-6 hidden p-4 rounded bg-gray-100"></div>
  </div>

  <script>
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwTyLuIGW04l95B2zmM8LXajXsHTKwBZBKI42Z2ZwTTbF1AoSyTFWyJ1xN4TUGmC98K/exec";

    const correctAnswers = {
      q1: "B",
      q2: "D",
      q3: "A"
    };

    function submitHomework() {
      const name = document.getElementById("studentName").value.trim();
      const email = document.getElementById("studentEmail").value.trim();
      const answers = {
        q1: document.getElementById("q1").value.trim().toUpperCase(),
        q2: document.getElementById("q2").value.trim().toUpperCase(),
        q3: document.getElementById("q3").value.trim().toUpperCase()
      };

      // Check correctness
      const correctness = {};
      Object.keys(answers).forEach(q => {
        correctness[q] = (answers[q] === correctAnswers[q]);
      });

      // Show results
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "<h2 class='font-bold mb-2'>Results</h2>";
      Object.keys(answers).forEach(q => {
        const isCorrect = correctness[q];
        resultsDiv.innerHTML += `<div class='p-2 mb-2 rounded ${isCorrect ? "correct" : "incorrect"}'>
          ${q.toUpperCase()}: Your answer = ${answers[q] || "?"}, Correct = ${correctAnswers[q]}
        </div>`;
      });
      resultsDiv.classList.remove("hidden");

      // Send to Google Sheets
      fetch(GOOGLE_SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify({ name, email, homework: "Geometry", answers, correctness }),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => res.json())
      .then(data => console.log("Submitted:", data))
      .catch(err => console.error("Error:", err));
    }
  </script>
</body>
</html>
